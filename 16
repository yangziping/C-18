#include<iostream>  
#include<stdlib.h>
using namespace std;  
  
a(int x)  
{  
    if(x==' '||x=='\t'||x=='\n'||x=='\f'||x=='\b'||x=='\r')  
        return 1;  
    else    
        return 0;  
}  
b(int x)  
{  
    if(x<='9' && x>='0')           
        return 1;   
    else   
        return 0;  
      
}  
int My_atoi(const char *nptr)  
{  
    int c;              /* current char */  
    int total;          /* current total */  
    int sign;           /* if '-', then negative, otherwise positive */  
      
                        /* skip whitespace */  
    while ( a((int)(unsigned char)*nptr) )  
        ++nptr;  
      
    c = (int)(unsigned char)*nptr++;  
    sign = c;                               /* save sign indication */  
    if (c == '-' || c == '+')  
        c = (int)(unsigned char)*nptr++;    /* skip sign */  
      
    total = 0;  
      
    while (b(c))   
    {  
        total = 10 * total + (c - '0');     /* accumulate digit */  
        c = (int)(unsigned char)*nptr++;    /* get next char */  
    }  
      
    if (sign == '-')  
        return -total;  
    else  
        return total;   /* return result, negated if necessary */  
}  
  
int main()  
{  
    char s8[100];//存8进制 
    char s16[100];//存16进制
    char str[256];  
    cout<<"请输入要转化为整数的字符串：";  
    cin>>str;  
    cout<<"转化为整数后输出是：";  
    cout<<My_atoi(str)<<endl;  
    itoa(My_atoi(str),s8,8);//将n转为8进制
    cout<<"转化为八进制整数后输出为:";
    cout<<s8<<endl;
    itoa(My_atoi(str),s16,16);//将n转为16进制
    cout<<"转化为十六进制整数后输出为:";
    cout<<s16<<endl;
    return 0;  
}  
